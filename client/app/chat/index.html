<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Cryptica Chat</title>
  <meta name="description" content="">
  <meta name="author" content="Proven Security Solutions Inc.">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <style>
    /* Most of these styles are temporary hacks only */
    body {
      padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
    }

    .is-dirty {
      background-color: yellow;
    }

    .chat-message-item {
      padding-bottom: 3px;
    }

    .chat-message-userid {
      font-weight: bold;
      text-align: right;
      text-overflow: ellipsis;
    }

    .chat-message-content {
      text-overflow:
    }
  </style>

  <link rel="stylesheet" href="css/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css?v=2">

</head>
<body>


  <script data-template-name="main" type="text/x-handlebars">
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Cryptica Chat</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div id="content" class="container-fluid">
      <div class="row-fluid">
        <div class="span2">
        </div>
        <div class="span10">
          {{dynamicView}}
        </div>
      </div>
    </div>
  </script>

  <script data-template-name="login" type="text/x-handlebars">
    <div class="row-fluid">
    <h1>Login</h1>
    </div>
    <div class="row-fluid">
      <div class="span2">&nbsp;</div>
      <div class="span10">
        <div class="span5">
          <form>
            <fieldset>
              <div {{bindAttr class=":control-group usernameError:error"}}>
                <div class="controls" >
                  {{view Ember.TextField class="span12" placeholder="Username" valueBinding="username"}}
                </div>
              </div>
              <div class="form-actions">
                <button {{action "submitLogin"}} class="btn btn-primary btn-large">
                  Go Go
                </button>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </script>

  <script data-template-name="chat-messages" type="text/x-handlebars">
    <div class="row-fluid">
      <div class="span8">
        <div class="messages-list" style="height: 200px; overflow-y: scroll;">
          {{#each messages}}
            {{#view App.MessageItemView contentBinding="this"}}
              <div {{bindAttr class="content.isDirty :row-fluid :chat-message-item"}}>
                <div class="span3 chat-message-userid">{{content.userID}}</div>
                <div class="chat-message-content span9">{{content.message}}</div>
              </div>
            {{/view}}
          {{/each}}
        </div>
        <div>
          <div id="message-compose" style="position: absolute; display: none;">
            <form class="well form-inline">
              {{view Ember.TextField placeholder="New message" valueBinding="newMessage" class="input-xlarge"}}
              <button {{action "submitMessage"}} class="btn btn-primary btn-large">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </script>

  <script data-template-name="about" type="text/x-handlebars">
    <div class="hero-unit">
      <h1>Welcome to Cryptica</h1>
      <br/>
      <p>
        Developed by <a href="http://www.provensecuritysolutions.com">Proven Security Solutions Inc.</a>
      </p>
      <p>More about text at some future time.</p>
    </div>
  </script>

  <script src="js/libs/jquery-1.7.2.min.js"></script>
  <script data-main="js/main.js" src="js/libs/require/require.js"></script>
</body>
</html>
